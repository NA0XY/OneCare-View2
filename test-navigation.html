<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneCare - Navigation Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
            color: white;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
        }
        
        .test-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }
        
        .test-button {
            padding: 0.75rem 1.5rem;
            margin: 0.5rem;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        h1, h2 {
            margin-bottom: 1rem;
        }
        
        .status {
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin-left: 1rem;
        }
        
        .success {
            background: rgba(16, 185, 129, 0.3);
            color: #10b981;
        }
        
        .error {
            background: rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ OneCare Navigation System Test</h1>
        <p>Test all the navigation functionalities that have been implemented.</p>
        
        <div class="test-section">
            <h2>Profile & Settings Functions</h2>
            <button class="test-button" onclick="testProfileModal()">Test Profile Modal</button>
            <button class="test-button" onclick="testSettingsModal()">Test Settings Modal</button>
            <span id="profile-status" class="status success" style="display: none;">‚úÖ Working</span>
        </div>
        
        <div class="test-section">
            <h2>Notifications & Help</h2>
            <button class="test-button" onclick="testNotifications()">Test Notifications Panel</button>
            <button class="test-button" onclick="testHelpModal()">Test Help Modal</button>
            <span id="help-status" class="status success" style="display: none;">‚úÖ Working</span>
        </div>
        
        <div class="test-section">
            <h2>Document Management</h2>
            <button class="test-button" onclick="testUploadModal()">Test Upload Document Modal</button>
            <button class="test-button" onclick="testNewRecordModal()">Test New Record Modal</button>
            <span id="document-status" class="status success" style="display: none;">‚úÖ Working</span>
        </div>
        
        <div class="test-section">
            <h2>Global Functions</h2>
            <button class="test-button" onclick="testLogout()">Test Logout Function</button>
            <button class="test-button" onclick="testNotificationToast()">Test Notification Toast</button>
            <span id="global-status" class="status success" style="display: none;">‚úÖ Working</span>
        </div>
        
        <div class="test-section">
            <h2>Page Links Test</h2>
            <p>Test navigation between different OneCare pages:</p>
            <button class="test-button" onclick="window.location.href='patient-dashboard.html'">Patient Dashboard</button>
            <button class="test-button" onclick="window.location.href='health-records-system.html'">Health Records</button>
            <button class="test-button" onclick="window.location.href='appointments.html'">Appointments</button>
            <button class="test-button" onclick="window.location.href='messages.html'">Messages</button>
        </div>
    </div>
    
    <!-- Load the navigation system -->
    <script src="js/profile-modal.js"></script>
    <script src="js/universal-navigation.js"></script>
    
    <script>
        // Test functions
        function testProfileModal() {
            try {
                if (typeof openProfileSettings === 'function') {
                    openProfileSettings();
                    showStatus('profile-status', true);
                } else {
                    showStatus('profile-status', false);
                }
            } catch (error) {
                console.error('Profile modal test failed:', error);
                showStatus('profile-status', false);
            }
        }
        
        function testSettingsModal() {
            try {
                if (typeof accountSettings === 'function') {
                    accountSettings();
                    showStatus('profile-status', true);
                } else {
                    showStatus('profile-status', false);
                }
            } catch (error) {
                console.error('Settings modal test failed:', error);
                showStatus('profile-status', false);
            }
        }
        
        function testNotifications() {
            try {
                if (typeof showNotifications === 'function') {
                    showNotifications();
                    showStatus('help-status', true);
                } else {
                    showStatus('help-status', false);
                }
            } catch (error) {
                console.error('Notifications test failed:', error);
                showStatus('help-status', false);
            }
        }
        
        function testHelpModal() {
            try {
                if (typeof showHelpModal === 'function') {
                    showHelpModal();
                    showStatus('help-status', true);
                } else {
                    showStatus('help-status', false);
                }
            } catch (error) {
                console.error('Help modal test failed:', error);
                showStatus('help-status', false);
            }
        }
        
        function testUploadModal() {
            try {
                if (typeof showUploadModal === 'function') {
                    showUploadModal();
                    showStatus('document-status', true);
                } else {
                    showStatus('document-status', false);
                }
            } catch (error) {
                console.error('Upload modal test failed:', error);
                showStatus('document-status', false);
            }
        }
        
        function testNewRecordModal() {
            try {
                if (typeof createNewRecord === 'function') {
                    createNewRecord();
                    showStatus('document-status', true);
                } else {
                    showStatus('document-status', false);
                }
            } catch (error) {
                console.error('New record modal test failed:', error);
                showStatus('document-status', false);
            }
        }
        
        function testLogout() {
            try {
                if (typeof logout === 'function') {
                    // Don't actually logout, just test if function exists
                    console.log('Logout function exists');
                    showStatus('global-status', true);
                } else {
                    showStatus('global-status', false);
                }
            } catch (error) {
                console.error('Logout test failed:', error);
                showStatus('global-status', false);
            }
        }
        
        function testNotificationToast() {
            try {
                if (oneCareNav && typeof oneCareNav.showNotification === 'function') {
                    oneCareNav.showNotification('Test notification working! ‚úÖ', 'success');
                    showStatus('global-status', true);
                } else {
                    showStatus('global-status', false);
                }
            } catch (error) {
                console.error('Notification toast test failed:', error);
                showStatus('global-status', false);
            }
        }
        
        function showStatus(elementId, success) {
            const element = document.getElementById(elementId);
            element.style.display = 'inline-block';
            if (success) {
                element.className = 'status success';
                element.textContent = '‚úÖ Working';
            } else {
                element.className = 'status error';
                element.textContent = '‚ùå Error';
            }
        }
        
        // Initialize test
        document.addEventListener('DOMContentLoaded', function() {
            console.log('OneCare Navigation Test Page Loaded');
            
            // Test if navigation system loaded
            setTimeout(() => {
                if (typeof oneCareNav !== 'undefined') {
                    console.log('‚úÖ Universal Navigation System loaded successfully');
                } else {
                    console.error('‚ùå Universal Navigation System failed to load');
                }
            }, 1000);
        });
    </script>
</body>
</html>